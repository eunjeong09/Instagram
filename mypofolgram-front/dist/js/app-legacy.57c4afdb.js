(function(){"use strict";var e={2712:function(e,t,n){n(6992),n(8674),n(9601),n(7727);var o=n(9963),r=n(6252);function i(e,t,n,o,i,a){var s=(0,r.up)("Header"),u=(0,r.up)("router-view"),c=(0,r.up)("Footer");return(0,r.wg)(),(0,r.iD)("div",null,[a.showHeader?((0,r.wg)(),(0,r.j4)(s,{key:0})):(0,r.kq)("",!0),(0,r.Wm)(u),a.showFooter?((0,r.wg)(),(0,r.j4)(c,{key:1})):(0,r.kq)("",!0)])}n(7327),n(1539),n(6755);var a=n(3577),s=function(e){return(0,r.dD)("data-v-120de58c"),e=e(),(0,r.Cn)(),e},u={class:"header"},c={class:"logo"},l={class:"iconList"},f={class:"plusWrap"},d={key:0,class:"createModal"},p=s((function(){return(0,r._)("span",null,"게시물",-1)})),m=s((function(){return(0,r._)("i",{class:"fa-solid fa-table-cells"},null,-1)})),h=[p,m],g=s((function(){return(0,r._)("li",null,[(0,r._)("span",null,"스토리"),(0,r._)("i",{class:"fa-solid fa-circle-plus"})],-1)})),v=s((function(){return(0,r._)("li",null,[(0,r._)("span",null,"릴스"),(0,r._)("i",{class:"fa-solid fa-clapperboard"})],-1)})),w=s((function(){return(0,r._)("i",{class:"fa-solid fa-paper-plane"},null,-1)})),y={class:"topWithButton"},b=s((function(){return(0,r._)("i",null,null,-1)})),k=s((function(){return(0,r._)("p",{class:"bold center"},"새 게시물 만들기",-1)})),I={key:0,class:"point"},_={key:0,class:"uploadBody1"},C=s((function(){return(0,r._)("div",null,"사진과 동영상을 여기에 끌어다 놓으세요.",-1)})),T=s((function(){return(0,r._)("br",null,null,-1)})),U={key:1,class:"imagesWrap uploadBody2",id:"uploadBody2"},D={class:"flex"},Z={class:"w-3/4 mr-4"},P={ref:"cropperImage",src:"",class:"hidden",id:"cropperImage",alt:"image-edit"},F={key:2,class:"uploadBody3"},x={class:"leftArea"},A=["src"],E={class:"rightArea"},j=["src"],O=["textContent"],S=s((function(){return(0,r._)("div",null,null,-1)}));function $(e,t,n,i,s,p){var m=this,$=(0,r.up)("new-post");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",u,[(0,r._)("h1",c,[(0,r._)("img",{src:"/images/logo.png",alt:"",onClick:t[0]||(t[0]=function(e){return p.moveTo("/")})})]),(0,r._)("div",l,[(0,r._)("div",f,[(0,r._)("i",{class:"fa-solid fa-square-plus",onClick:t[1]||(t[1]=function(){return p.toggle&&p.toggle.apply(p,arguments)})}),s.isCreate?((0,r.wg)(),(0,r.iD)("div",d,[(0,r._)("ul",null,[(0,r._)("li",{onClick:t[2]||(t[2]=function(e){return p.show("showRegister")})},h),g,v])])):(0,r.kq)("",!0)]),(0,r._)("i",{class:"fa-solid fa-heart",onClick:t[3]||(t[3]=function(e){return p.moveTo("/activity")})}),w,(0,r._)("img",{onClick:t[4]||(t[4]=function(e){return p.moveTo("/mypage")}),src:"/images/example.jpeg",alt:"유저이미지"})])]),(0,r.Wm)($,{show:s.showRegister,onClose:t[10]||(t[10]=function(e){return p.close("showRegister")})},{header:(0,r.w5)((function(){return[(0,r._)("div",y,[b,k,0===s.files.length?((0,r.wg)(),(0,r.iD)("i",I)):(0,r.kq)("",!0),0!==s.files.length&&m.showUploadModal2?((0,r.wg)(),(0,r.iD)("i",{key:1,onClick:t[5]||(t[5]=function(e){return p.addContent()}),class:"point"},"다음")):0===s.files.length||m.showUploadModal2?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("i",{key:2,onClick:t[6]||(t[6]=function(e){return p.upload()}),class:"point"},"공유하기"))])]})),body:(0,r.w5)((function(){return[s.files.length?0!==s.files.length&&m.showUploadModal2?((0,r.wg)(),(0,r.iD)("div",U,[(0,r._)("div",D,[(0,r._)("div",Z,[(0,r._)("img",P,null,512)])])])):((0,r.wg)(),(0,r.iD)("div",F,[(0,r._)("div",x,[(0,r._)("img",{src:s.cropped,alt:"cropped image"},null,8,A)]),(0,r._)("div",E,[(0,r._)("div",null,[(0,r._)("img",{src:e.getterUserInfo.userImgUrl,alt:""},null,8,j),(0,r._)("span",{class:"nickname",textContent:(0,a.zw)(e.getterUserInfo.userId)},null,8,O)]),(0,r.wy)((0,r._)("textarea",{"aria-label":"문구 입력...",placeholder:"문구 입력...",rows:"12","onUpdate:modelValue":t[9]||(t[9]=function(e){return s.content=e})},null,512),[[o.nr,s.content]])])])):((0,r.wg)(),(0,r.iD)("div",_,[C,(0,r._)("input",{ref:"fileInput",id:"input",type:"file",name:"image",accept:"image/*",multiple:"multiple",class:"input",onChange:t[7]||(t[7]=function(e){return p.uploadImage()})},null,544),T,(0,r._)("div",{onClick:t[8]||(t[8]=function(t){return e.$refs.fileInput.click()}),class:"buttonBackground"},"컴퓨터에서 선택")]))]})),footer:(0,r.w5)((function(){return[S]})),_:1},8,["show"])],64)}var B=n(6835),M=n(8534),R=n(6347),L=n(9584),N=n(4648),q=(n(2222),n(8783),n(3948),n(285),n(1637),n(8309),n(4747),n(8862),{class:"modal-wrapper"}),W={class:"modal-container"},H={class:"modal-header"},z=(0,r.Uk)("default header"),K={class:"modal-body"},J=(0,r.Uk)("default body"),V={class:"modal-footer"},Y=(0,r.Uk)(" default footer ");function G(e,t,n,i,a,s){return(0,r.wg)(),(0,r.j4)(o.uT,{name:"modal"},{default:(0,r.w5)((function(){return[n.show?((0,r.wg)(),(0,r.iD)("div",{key:0,class:"modal-mask",onClick:t[1]||(t[1]=function(e){return s.check(e)})},[(0,r._)("div",q,[(0,r._)("div",W,[(0,r._)("div",H,[(0,r.WI)(e.$slots,"header",{},(function(){return[z]}))]),(0,r._)("div",K,[(0,r.WI)(e.$slots,"body",{},(function(){return[J]}))]),(0,r._)("div",V,[(0,r.WI)(e.$slots,"footer",{},(function(){return[Y,(0,r._)("button",{class:"modal-default-button",onClick:t[0]||(t[0]=function(t){return e.$emit("close")})},"OK")]}))])])])])):(0,r.kq)("",!0)]})),_:3})}var Q={props:{show:Boolean},methods:{check:function(e){var t=e.target;t.classList.contains("modal-wrapper")&&this.$emit("close")}}},X=n(3744);const ee=(0,X.Z)(Q,[["render",G]]);var te=ee,ne=n(8108),oe=n(8637),re=n(3129),ie=n.n(re),ae={components:{newPost:te},computed:(0,N.Z)({},(0,oe.Se)("userInfo",["getterUserInfo"])),data:function(){return{isCreate:!1,imgTest:"/images/example.jpeg",showRegister:!1,selectedFile:null,showComplete:!1,images:"",files:[],filesPreview:[],uploadImageIndex:0,content:"",showUploadModal2:!1,multipartFiles:[],postDetailDto:{userId:"",content:""},cropperImage:{},cropper:{},cropped:""}},methods:{toggle:function(){this.isCreate=!this.isCreate},moveTo:function(e){this.$router.push({path:e})},show:function(e){this[e]=!0,this.isCreate=!1},close:function(e){switch(e){case"showRegister":this[e]=!1,this.files=[],this.filesPreview=[],this.uploadImageIndex=0;break;default:console.log("close 함수 실행")}},uploadImage:function(){for(var e=this,t=-1,n=0;n<this.$refs.fileInput.files.length;n++)this.multipartFiles[n]=this.$refs.fileInput.files[n],this.files=[].concat((0,L.Z)(this.files),[{file:this.$refs.fileInput.files[n],preview:URL.createObjectURL(this.$refs.fileInput.files[n])}]),t=n,this.filesPreview=[].concat((0,L.Z)(this.filesPreview),[{file:URL.createObjectURL(this.$refs.fileInput.files[n])}]);this.uploadImageIndex=t+1,0!==this.filesPreview.length&&(this.showUploadModal2=!0,setTimeout((function(){e.createImageUrl()}),1e3))},createImageUrl:function(){var e=this;document.getElementById("cropperImage").src=this.files[0].preview,this.image=this.$refs.cropperImage,this.cropper=new(ie())(this.image,{dragMode:"move",aspectRatio:16/9,autoCropArea:.65,restore:!1,guides:!1,center:!1,highlight:!1,cropBoxMovable:!0,cropBoxResizable:!1,toggleDragModeOnDblclick:!1,preview:".preview",crop:function(){var t=e.cropper.getCroppedCanvas();e.cropped=t.toDataURL("image/png"),console.log("여기 확인---");var n=e.multipartFiles[0].name;e.cropper.getCroppedCanvas().toBlob((function(e){var t=new FormData;t.append("croppedImage",e,n,.7);var o,r=(0,R.Z)(t.entries());try{for(r.s();!(o=r.n()).done;){var i=o.value;console.log(i[0]+", "+i[1])}}catch(a){r.e(a)}finally{r.f()}}))}})},addContent:function(){this.showUploadModal2=!1},upload:function(){var e=this;return(0,M.Z)((0,B.Z)().mark((function t(){var n;return(0,B.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new FormData,e.postDetailDto.userId=e.getterUserInfo.id,e.postDetailDto.content=e.content,e.multipartFiles.forEach((function(e){n.append("multipartFiles",e)})),n.append("postDetailDto",new Blob([JSON.stringify(e.postDetailDto)],{type:"application/json"})),t.next=7,ne.Z.post("/api/post/savePost",n,{headers:{"content-type":"multipart/form-data"}}).then((function(e){!0===e.data.result?console.log(!0):console.log(!1)})).finally(e.close("showRegister"));case 7:case"end":return t.stop()}}),t)})))()}}};const se=(0,X.Z)(ae,[["render",$],["__scopeId","data-v-120de58c"]]);var ue=se,ce={class:"footer"},le=(0,r._)("i",{class:"fa-solid fa-clapperboard"},null,-1);function fe(e,t,n,o,i,a){return(0,r.wg)(),(0,r.iD)("div",ce,[(0,r._)("i",{class:"fa-solid fa-house",onClick:t[0]||(t[0]=function(e){return a.moveTo("/")})}),(0,r._)("i",{class:"fa-solid fa-magnifying-glass",onClick:t[1]||(t[1]=function(e){return a.moveTo("/search")})}),le,(0,r._)("i",{class:"fa-solid fa-circle-user",onClick:t[2]||(t[2]=function(e){return a.moveTo("/mypage")})})])}var de={methods:{moveTo:function(e){this.$router.push({path:e})}}};const pe=(0,X.Z)(de,[["render",fe]]);var me=pe,he={name:"App",components:{Header:ue,Footer:me},created:function(){},computed:{showHeader:function(){var e=this,t=["/mypage","/activity","/comment","/login","/mypostlist"];return t=t.filter((function(t){return e.$route.path.startsWith(t)})),0===t.length},showFooter:function(){var e=this,t=["/mypage/modify","/comment","/login"];return t=t.filter((function(t){return e.$route.path.startsWith(t)})),0===t.length}},methods:{}};const ge=(0,X.Z)(he,[["render",i]]);var ve=ge,we=n(2119),ye=n(3349),be=function(e){return function(t,n,o){var r=ye.Z.getters["auth/isAuthenticated"];if(r&&e||!r&&!e)return o();o("/login")}},ke=[{path:"/",name:"main",component:function(){return Promise.all([n.e(662),n.e(430),n.e(220)]).then(n.bind(n,3250))},beforeEnter:be(!0)},{path:"/login",component:function(){return n.e(776).then(n.bind(n,4776))},beforeEnter:be(!1)},{path:"/activity",component:function(){return n.e(767).then(n.bind(n,767))},beforeEnter:be(!0)},{path:"/search",component:function(){return n.e(36).then(n.bind(n,8036))},beforeEnter:be(!0)},{path:"/comment/:id",component:function(){return Promise.all([n.e(662),n.e(219)]).then(n.bind(n,3219))},beforeEnter:be(!0)},{path:"/mypage",component:function(){return Promise.all([n.e(662),n.e(430),n.e(868)]).then(n.bind(n,7651))},beforeEnter:be(!0),props:!0,meta:{}},{path:"/mypage/mypostlist",component:function(){return Promise.all([n.e(662),n.e(430),n.e(207)]).then(n.bind(n,24))},beforeEnter:be(!0),props:!0,meta:{}},{path:"/mypage/follow/:page",props:!0,component:function(){return n.e(633).then(n.bind(n,9633))},beforeEnter:be(!0),meta:{}},{path:"/mypage/modify",name:"modify",props:!0,component:function(){return n.e(677).then(n.bind(n,8677))},beforeEnter:be(!0),meta:{}},{path:"/mypage/modifyProfile",name:"modifyProfile",props:!0,component:function(){return n.e(175).then(n.bind(n,7175))},beforeEnter:be(!0),meta:{}},{path:"/story/:id",props:!0,component:function(){return n.e(697).then(n.bind(n,6697))},beforeEnter:be(!0),meta:{}}],Ie=(0,we.p7)({history:(0,we.PO)("/"),routes:ke}),_e=Ie,Ce=(0,o.ri)(ve).use(_e).use(ye.Z);Ce.mount("#app")},3349:function(e,t,n){n.d(t,{Z:function(){return P}});var o=n(8637),r={userInfo:{}},i=n(6835),a=n(8534),s=n(8108),u={getUserInfo:function(e){return(0,a.Z)((0,i.Z)().mark((function t(){var n,o,r;return(0,i.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.state,o=e.commit,t.next=3,s.Z.get("/api/user/getUserInfo",{params:{userId:n.userInfo.userId}});case 3:r=t.sent,o("setUserInfo",r.data.result);case 5:case"end":return t.stop()}}),t)})))()},setProfile:function(e,t){return(0,a.Z)((0,i.Z)().mark((function n(){var o,r;return(0,i.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=e.commit,n.next=3,s.Z.post("/api/user/setUserInfo",t);case 3:r=n.sent,o("setUserInfo",r.data.result);case 5:case"end":return n.stop()}}),n)})))()}},c={setUserInfo:function(e,t){e.userInfo=t},setUserId:function(e,t){e.userInfo.userId=t}},l={getterUserInfo:function(e){return e.userInfo}},f={namespaced:!0,state:r,actions:u,mutations:c,getters:l},d="id_token",p=function(){return window.localStorage.getItem(d)},m=function(e){window.localStorage.setItem(d,e)},h=function(){window.localStorage.removeItem(d)},g={getToken:p,saveToken:m,destroyToken:h},v={count:0,token:{accessToken:g.getToken()},isAuthenticated:!!g.getToken()},w=(n(1539),{login:function(e,t){var n={username:t.userId,password:t.password};return new Promise((function(t,o){s.Z.post("/api/authenticate",n).then((function(n){var o=n.data;sessionStorage.setItem("userId",o.result.userId),e.commit("login",{accessToken:o.result.httpHeaders.Authorization}),t(n)})).catch((function(e){o(e)}))}))},logout:function(e,t){return new Promise((function(n){setTimeout((function(){sessionStorage.removeItem("clear"),sessionStorage.clear(),e.commit("logout",t),n({})}),1e3)}))}}),y={login:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.token.accessToken=t.accessToken,e.isAuthenticated=!0,g.saveToken(t.accessToken)},logout:function(e){e.token.accessToken="",e.isAuthenticated=!1,g.destroyToken()}},b={getAccessToken:function(e){return e.token.accessToken},isAuthenticated:function(e){return e.isAuthenticated}},k={namespaced:!0,state:v,actions:w,mutations:y,getters:b},I={postForComment:{id:"",content:"",createDate:"",hashtags:"",nickName:"",userImgUrl:""}},_={},C={setPostForComment:function(e,t){e.postForComment.id=t.id,e.postForComment.content=t.content,e.postForComment.createDate=t.createDate,e.postForComment.hashtags=t.hashtags,e.postForComment.nickName=t.nickName,e.postForComment.userImgUrl=t.userImgUrl}},T={getterPostForComment:function(e){return e.postForComment}},U={namespaced:!0,state:I,actions:_,mutations:C,getters:T},D=n(4702),Z=(0,o.MT)({modules:{userInfo:f,auth:k,comment:U},plugins:[(0,D.Z)({paths:["userInfo","auth","comment"]})]}),P=Z},8108:function(e,t,n){n(1539);var o=n(9669),r=n.n(o),i=n(3349),a=r().create({baseURL:"https://myportfoliogram.herokuapp.com",headers:{"content-type":"application/json"}});a.interceptors.request.use((function(e){var t=i.Z.getters["auth/isAuthenticated"];return t&&(e.headers.common["Authorization"]=i.Z.getters["auth/getAccessToken"]),e}),(function(e){Promise.reject(e)})),a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",t["Z"]=a}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,i){if(!o){var a=1/0;for(l=0;l<e.length;l++){o=e[l][0],r=e[l][1],i=e[l][2];for(var s=!0,u=0;u<o.length;u++)(!1&i||a>=i)&&Object.keys(n.O).every((function(e){return n.O[e](o[u])}))?o.splice(u--,1):(s=!1,i<a&&(a=i));if(s){e.splice(l--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[o,r,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"-legacy."+{36:"af995f4d",175:"f9f0c350",207:"3358db17",219:"d9c59334",220:"4d0283e1",430:"9c2df5c7",633:"a22f9e2d",662:"0d721502",677:"d37ee816",697:"1dbabb28",767:"4b95fced",776:"19f20d46",868:"8ef48243"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+e+"."+{36:"0b56dbff",207:"55495568",220:"55495568",776:"bfc35c9d",868:"dc2f7e34"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="mypofolgram-front:";n.l=function(o,r,i,a){if(e[o])e[o].push(r);else{var s,u;if(void 0!==i)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==o||f.getAttribute("data-webpack")==t+i){s=f;break}}s||(u=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=o),e[o]=[r];var d=function(t,n){s.onerror=s.onload=null,clearTimeout(p);var r=e[o];if(delete e[o],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){n.p="/"}(),function(){var e=function(e,t,n,o){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var i=function(i){if(r.onerror=r.onload=null,"load"===i.type)n();else{var a=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=a,u.request=s,r.parentNode.removeChild(r),o(u)}};return r.onerror=r.onload=i,r.href=t,document.head.appendChild(r),r},t=function(e,t){for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var r=n[o],i=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(i===e||i===t))return r}var a=document.getElementsByTagName("style");for(o=0;o<a.length;o++){r=a[o],i=r.getAttribute("data-href");if(i===e||i===t)return r}},o=function(o){return new Promise((function(r,i){var a=n.miniCssF(o),s=n.p+a;if(t(a,s))return r();e(o,s,r,i)}))},r={143:0};n.f.miniCss=function(e,t){var n={36:1,207:1,220:1,776:1,868:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=o(e).then((function(){r[e]=0}),(function(t){throw delete r[e],t})))}}(),function(){var e={143:0};n.f.j=function(t,o){var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)o.push(r[2]);else{var i=new Promise((function(n,o){r=e[t]=[n,o]}));o.push(r[2]=i);var a=n.p+n.u(t),s=new Error,u=function(o){if(n.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var i=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,r[1](s)}};n.l(a,u,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,i,a=o[0],s=o[1],u=o[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(u)var l=u(n)}for(t&&t(o);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(l)},o=self["webpackChunkmypofolgram_front"]=self["webpackChunkmypofolgram_front"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(2712)}));o=n.O(o)})();
//# sourceMappingURL=app-legacy.57c4afdb.js.map